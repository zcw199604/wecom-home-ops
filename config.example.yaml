log:
  level: info

server:
  listen_addr: ":8080"
  # base_url: "https://your-domain.example.com"
  http_client_timeout: 15s
  read_header_timeout: 10s

core:
  state_ttl: 30m

wecom:
  corpid: "wwxxxxxxxxxxxxxxxx"
  agentid: 1000002
  secret: "填写企业微信应用secret"
  token: "填写回调Token"
  encoding_aes_key: "填写EncodingAESKey"
  api_base_url: "https://qyapi.weixin.qq.com/cgi-bin"
  # 模板卡片(template_card)发送模式：template_card | both | text
  # - template_card：仅发送模板卡片（默认）
  # - both：模板卡片 + 文本兜底（并支持“回复序号”触发同等 EventKey）
  # - text：仅发送文本兜底（适用于客户端不支持模板卡片的情况）
  #
  # 官方说明（SSOT：https://developer.work.weixin.qq.com/document/path/90236）：
  # - 文本通知/图文展示/按钮交互型：企业微信 3.1.6+ 支持
  # - 微工作台（原企业号）不支持展示模板卡片消息
  template_card_mode: "template_card"

auth:
  allowed_userids:
    - "your-userid"

unraid:
  endpoint: "http://unraid-host:port/graphql"
  api_key: "your-unraid-api-key"
  origin: "wecom-home-ops"

  # WebGUI StartCommand.php 兜底（用于 GraphQL 不支持的操作，例如容器更新）。
  # 典型抓包形态：
  #   POST http://<ip>/webGui/include/StartCommand.php
  #   Content-Type: application/x-www-form-urlencoded; charset=UTF-8
  #   cmd=update_container+<containerName>&start=0&csrf_token=<token>
  #
  # 可选：若你的 endpoint 不是标准的 /graphql（例如反代带前缀），可显式指定 command_url。
  # webgui_command_url: "http://unraid-host/webGui/include/StartCommand.php"
  # 必填：csrf_token（通常随 WebGUI 登录会话变化；可从页面/抓包获取）
  # webgui_csrf_token: "YOUR_CSRF_TOKEN"
  # 可选：Cookie（当 WebGUI 需要登录鉴权时必填；抓包里复制 Cookie 头即可）
  # webgui_cookie: "key=value; key2=value2"
  # 容器查看：日志
  logs_field: "logs"
  # 默认使用 logs(tail: N)；如上游不支持 tail 参数，可设为空字符串禁用（仍会在本地截取最新 N 行）
  logs_tail_arg: "tail"
  # 如 logs 返回对象（例如 { content }），可指定承载日志文本的字段名：
  # logs_payload_field: "content"

  # 容器查看：资源统计
  stats_field: "stats"
  # stats 若返回对象，需配置 selection set 字段；如 stats 为标量(JSON)可配置为空数组：[]
  stats_fields:
    - "cpuPercent"
    - "memUsage"
    - "memLimit"
    - "netIO"
    - "blockIO"
    - "pids"

  # 容器操作：强制更新（默认 updateContainer(id: PrefixedID!) { __typename }；如上游不支持可尝试 update）
  force_update_mutation: "updateContainer"
  force_update_arg: "id"
  force_update_arg_type: "PrefixedID!"
  force_update_return_fields:
    - "__typename"

qinglong:
  # 可配置多个青龙实例；id 建议使用字母数字/下划线/短横线（用于卡片按钮回调 key）。
  instances:
    - id: "home"
      name: "家里青龙"
      base_url: "http://qinglong-host:5700"
      # 在青龙面板“OpenAPI”里创建应用后获取 client_id/client_secret，并授予 crons 等相关 scopes。
      client_id: "your-client-id"
      client_secret: "your-client-secret"

pve:
  # 可配置多个 PVE 实例；id 建议使用字母数字/下划线/短横线（用于卡片按钮回调 key）。
  instances:
    - id: "home"
      name: "家里 PVE"
      # 示例：https://pve.example:8006 （也支持反代前缀，例如 https://gw.example/pve）
      base_url: "https://pve-host:8006"
      # PVE API Token（推荐）：Authorization Header 形态为 `PVEAPIToken=USER@REALM!TOKENID=UUID`
      # 说明：本项目会自动以 `Authorization: <api_token>` 形式发送。
      api_token: "PVEAPIToken=root@pam!monitoring=aaaaaaaa-bbbb-cccc-dddd-ef0123456789"
      # PVE 默认是自签证书（https），如未配可信证书可开启（仅建议用于内网/家庭环境）。
      insecure_skip_verify: true

  alert:
    enabled: true
    interval: 2m
    cooldown: 10m
    # 通过企业微信菜单触发“静默告警”时的默认持续时间
    mute_for: 30m
    # 阈值范围：1~100（百分比）
    cpu_usage_threshold: 90
    mem_usage_threshold: 90
    storage_usage_threshold: 90
